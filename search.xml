<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Cè¯­è¨€ä½¿ç”¨syslog</title>
    <url>/2024/04/28/study/linux/C%E8%AF%AD%E8%A8%80%E4%BD%BF%E7%94%A8syslog/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="syslogdå’Œklogd"><a href="#syslogdå’Œklogd" class="headerlink" title="syslogdå’Œklogd"></a>syslogdå’Œklogd</h2><p><code>syslogd</code>æ˜¯Linuxç³»ç»Ÿæ—¥å¿—å®ˆæŠ¤è¿›ç¨‹ï¼Œè´Ÿè´£æ¥æ”¶ã€è®°å½•å’Œåˆ†å‘ç³»ç»Ÿæ—¥å¿—ï¼Œé€šå¸¸é…åˆ<code>/etc/syslog.conf</code>ä½¿ç”¨ã€‚<br><code>klogd</code>æ˜¯Linuxå†…æ ¸æ—¥å¿—å®ˆæŠ¤è¿›ç¨‹ï¼Œç¬¦åˆæ”¶é›†å’Œå¤„ç†å†…æ ¸ä¿¡æ¯ï¼Œé€šå¸¸é…åˆ<code>syslogd</code>ä½¿ç”¨ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ã€‚</p>
<h3 id="é…ç½®æ–‡ä»¶è§£æ"><a href="#é…ç½®æ–‡ä»¶è§£æ" class="headerlink" title="é…ç½®æ–‡ä»¶è§£æ"></a>é…ç½®æ–‡ä»¶è§£æ</h3><p>é…ç½®æ–‡ä»¶çš„è¯­æ³•ï¼š facility.level action<br>facility: æ ‡è¯†ç¬¦</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">kern     å†…æ ¸ä¿¡æ¯ï¼Œé¦–å…ˆé€šè¿‡ klogd ä¼ é€’ï¼› </span><br><span class="line">user     ç”¨æˆ·è¿›ç¨‹ï¼› </span><br><span class="line">mail     é‚®ä»¶ï¼› </span><br><span class="line">daemon   åå°è¿›ç¨‹ï¼› </span><br><span class="line">authpriv æˆæƒä¿¡æ¯ï¼› </span><br><span class="line">syslog   ç³»ç»Ÿæ—¥å¿—ï¼› </span><br><span class="line">lpr      æ‰“å°ä¿¡æ¯ï¼› </span><br><span class="line">news     æ–°é—»ç»„ä¿¡æ¯ï¼› </span><br><span class="line">uucp     ç”±uucpç”Ÿæˆçš„ä¿¡æ¯ </span><br><span class="line">cron     è®¡åˆ’å’Œä»»åŠ¡ä¿¡æ¯ã€‚ </span><br><span class="line">mark     syslog å†…éƒ¨åŠŸèƒ½ç”¨äºç”Ÿæˆæ—¶é—´æˆ³ </span><br><span class="line">local0~local7   ä¸è‡ªå®šä¹‰ç¨‹åºä½¿ç”¨</span><br><span class="line">*        é€šé…ç¬¦ä»£è¡¨é™¤äº† mark ä»¥å¤–çš„æ‰€æœ‰åŠŸèƒ½</span><br></pre></td></tr></table></figure>
<p>level: æ—¥å¿—ç­‰çº§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">syslog çº§åˆ«å¦‚ä¸‹:ï¼ˆæŒ‰ä¸¥é‡ç¨‹åº¦ç”±é«˜åˆ°ä½çš„é¡ºåºåˆ—å‡ºäº†æ‰€æœ‰å¯èƒ½çš„ä¼˜å…ˆçº§ã€‚ï¼‰ </span><br><span class="line">emerg æˆ– panic   è¯¥ç³»ç»Ÿä¸å¯ç”¨ï¼ˆæœ€ç´§æ€¥æ¶ˆæ¯ï¼‰ </span><br><span class="line">alert            éœ€è¦ç«‹å³è¢«ä¿®æ”¹çš„æ¡ä»¶ï¼ˆç´§æ€¥æ¶ˆæ¯ï¼‰ </span><br><span class="line">crit             é˜»æ­¢æŸäº›å·¥å…·æˆ–å­ç³»ç»ŸåŠŸèƒ½å®ç°çš„é”™è¯¯æ¡ä»¶ï¼ˆé‡è¦æ¶ˆæ¯ï¼‰ </span><br><span class="line">err              é˜»æ­¢å·¥å…·æˆ–æŸäº›å­ç³»ç»Ÿéƒ¨åˆ†åŠŸèƒ½å®ç°çš„é”™è¯¯æ¡ä»¶ï¼ˆå‡ºé”™æ¶ˆæ¯ï¼‰ </span><br><span class="line">warning          é¢„è­¦ä¿¡æ¯ï¼ˆè­¦å‘Šæ¶ˆæ¯ï¼‰ </span><br><span class="line">notice           å…·æœ‰é‡è¦æ€§çš„æ™®é€šæ¡ä»¶ï¼ˆæ™®é€šä½†é‡è¦çš„æ¶ˆæ¯ï¼‰ </span><br><span class="line">info             æä¾›ä¿¡æ¯çš„æ¶ˆæ¯ï¼ˆé€šçŸ¥æ€§æ¶ˆæ¯ï¼‰ </span><br><span class="line">debug            ä¸åŒ…å«å‡½æ•°æ¡ä»¶æˆ–é—®é¢˜çš„å…¶ä»–ä¿¡æ¯ï¼ˆè°ƒè¯•çº§-ä¿¡æ¯é‡æœ€å¤šï¼‰ </span><br><span class="line">none             æ²¡æœ‰é‡è¦çº§ï¼Œé€šå¸¸ç”¨äºæ’é”™ï¼ˆä¸è®°å½•ä»»ä½•æ—¥å¿—æ¶ˆæ¯ï¼‰ </span><br><span class="line">*                æ‰€æœ‰çº§åˆ«ï¼Œé™¤äº†none</span><br></pre></td></tr></table></figure>
<p>action: åŠ¨ä½œï¼Œä¸€èˆ¬è·Ÿè·¯å¾„ï¼Œä»£è¡¨ä¿å­˜åˆ°è¯¥æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user.* /var/log/usr.log <span class="comment">#å°†userçš„logï¼Œå†™å…¥usr.log</span></span><br></pre></td></tr></table></figure>
<h2 id="Liunx-Cä½¿ç”¨syslog"><a href="#Liunx-Cä½¿ç”¨syslog" class="headerlink" title="Liunx Cä½¿ç”¨syslog"></a>Liunx Cä½¿ç”¨syslog</h2><p>åœ¨<code>etc/syslog.conf</code>æ·»åŠ <code>local0.* /var/log/test.log</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;syslog.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ‰“å¼€ç³»ç»Ÿæ—¥å¿—</span></span><br><span class="line">    openlog(argv[<span class="number">0</span>], LOG_PID|LOG_CONS, LOG_LOCAL0);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®°å½•æ—¥å¿—ä¿¡æ¯</span></span><br><span class="line">    syslog(LOG_INFO, <span class="string">&quot;This is an informational message.&quot;</span>);</span><br><span class="line">    syslog(LOG_WARNING, <span class="string">&quot;This is a warning message.&quot;</span>);</span><br><span class="line">    syslog(LOG_ERR, <span class="string">&quot;This is an error message.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­ç³»ç»Ÿæ—¥å¿—</span></span><br><span class="line">    closelog();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>study</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>syslog</tag>
        <tag>linux-c</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç³»ç»Ÿæ—¶åŒºè®¾ç½®</title>
    <url>/2024/03/20/study/linux/Linux%E7%B3%BB%E7%BB%9F%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="UTCã€GMTã€CSTã€DSTä»¥åŠUnixæ—¶é—´æˆ³"><a href="#UTCã€GMTã€CSTã€DSTä»¥åŠUnixæ—¶é—´æˆ³" class="headerlink" title="UTCã€GMTã€CSTã€DSTä»¥åŠUnixæ—¶é—´æˆ³"></a>UTCã€GMTã€CSTã€DSTä»¥åŠUnixæ—¶é—´æˆ³</h2><h3 id="UTC-æ—¶é—´æ ‡å‡†æ—¶é—´"><a href="#UTC-æ—¶é—´æ ‡å‡†æ—¶é—´" class="headerlink" title="UTC - æ—¶é—´æ ‡å‡†æ—¶é—´"></a>UTC - æ—¶é—´æ ‡å‡†æ—¶é—´</h3><p>  å…¨çƒé€šç”¨çš„æ—¶é—´æ ‡å‡†ï¼Œæ˜¯ä¸€å †å¤§ä½¬æ ¹æ®åŸå­é’Ÿå’Œåœ°çƒè‡ªè½¬è®¡ç®—å‡ºæ¥çš„ã€‚</p>
<h3 id="GMT-æ ¼æ—å¨æ²»æ—¶é—´"><a href="#GMT-æ ¼æ—å¨æ²»æ—¶é—´" class="headerlink" title="GMT - æ ¼æ—å¨æ²»æ—¶é—´"></a>GMT - æ ¼æ—å¨æ²»æ—¶é—´</h3><p>  è§„å®šå¤ªé˜³æ¯å¤©ç»è¿‡ä½äºè‹±å›½ä¼¦æ•¦éƒŠåŒºçš„çš‡å®¶æ ¼æ—å¨æ²»å¤©æ–‡å°çš„æ—¶é—´ä¸ºä¸­åˆ12ç‚¹ã€‚</p>
<p><em>GMTæ˜¯å‰ä¸–ç•Œæ ‡å‡†æ—¶ï¼ŒUTCæ˜¯ç°ä¸–ç•Œæ ‡å‡†æ—¶ã€‚UTCä»¥åŸå­æ—¶è®¡æ—¶æ‰€ä»¥æ¯”GMTæ›´ç²¾ç¡®ï¼Œä½†æ˜¯æ—¥å¸¸ç”Ÿæ´»ä¸­ç²¾ç¡®åˆ°ç§’çš„æƒ…å†µä¸‹ï¼ŒäºŒè€…å¯ä»¥è§†ä¸ºç›¸åŒ</em></p>
<h3 id="CST-Central-Standard-Time"><a href="#CST-Central-Standard-Time" class="headerlink" title="CST - Central Standard Time"></a>CST - Central Standard Time</h3><p>  å¯åŒæ—¶ä»£è¡¨4ä¸ªæ—¶åŒº:ç¾å›½ä¸­éƒ¨ã€æ¾³å¤§åˆ©äºšã€ä¸­å›½å’Œå¤å·´ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">Central Standard Time (USA) UT-6:00</span><br><span class="line">Central Standard Time (Australia) UT 9:30</span><br><span class="line">China Standard Time UT 8:00</span><br><span class="line">Cuba Standard Time UT-4:00</span><br></pre></td></tr></table></figure>
<h3 id="DST-å¤ä»¤æ—¶"><a href="#DST-å¤ä»¤æ—¶" class="headerlink" title="DST - å¤ä»¤æ—¶"></a>DST - å¤ä»¤æ—¶</h3><p>  ä¸ºäº†èŠ‚çº¦èƒ½æºï¼Œæé«˜æ—¥å…‰åˆ©ç”¨ç‡ï¼Œå¤å­£å¤ªé˜³å‡èµ·è¾ƒæ—©äººä¸ºå°†æ—¶é—´è°ƒå¿«ä¸€ä¸ªå°æ—¶ï¼Œå¤ä»¤æ—¶åˆ‡æ¢å½“å¤©ä¸€å¤©åªæœ‰23ä¸ªå°æ—¶ï¼ŒåŒæ—¶å†¬ä»¤æ—¶åˆ‡æ¢å½“å¤©ï¼Œä¸€å¤©æœ‰25ä¸ªå°æ—¶</p>
<h3 id="Unixæ—¶é—´æˆ³"><a href="#Unixæ—¶é—´æˆ³" class="headerlink" title="Unixæ—¶é—´æˆ³"></a>Unixæ—¶é—´æˆ³</h3><p>  UNIXæ—¶é—´æˆ³æ˜¯UTCæ—¶é—´ï¼Œä»1970å¹´01æœˆ01æ—¥00æ—¶00åˆ†00ç§’åˆ°ç°åœ¨çš„æ€»ç§’æ•°ï¼Œä¸æ—¶åŒºæ— å…³ã€‚</p>
<h2 id="Linuxæ—¶é—´å‡½æ•°"><a href="#Linuxæ—¶é—´å‡½æ•°" class="headerlink" title="Linuxæ—¶é—´å‡½æ•°"></a>Linuxæ—¶é—´å‡½æ•°</h2><h3 id="ç²¾ç¡®åˆ°ç§’"><a href="#ç²¾ç¡®åˆ°ç§’" class="headerlink" title="ç²¾ç¡®åˆ°ç§’"></a>ç²¾ç¡®åˆ°ç§’</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span>&#123;</span></span><br><span class="line">	<span class="type">int</span> tm_sec;</span><br><span class="line">	<span class="type">int</span> tm_min;</span><br><span class="line">	<span class="type">int</span> tm_hour;</span><br><span class="line">	<span class="type">int</span> tm_mday;</span><br><span class="line">	<span class="type">int</span> tm_mon;</span><br><span class="line">	<span class="type">int</span> tm_year;</span><br><span class="line">	<span class="type">int</span> tm_wday;</span><br><span class="line">	<span class="type">int</span> tm_yday;</span><br><span class="line">	<span class="type">int</span> tm_isdst;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">time_t</span> <span class="title function_">time</span><span class="params">(<span class="type">time_t</span> *timer)</span>; <span class="comment">//è¿”å›unixæ—¶é—´æˆ³ï¼Œå¦‚æœä¼ å‚ä¸ä¸ºç©ºï¼Œåˆ™è¿”å›å€¼ä¹ŸæŠ¥é”™åœ¨å‚æ•°é‡Œï¼Œä»¥ç§’ä¸ºå•ä½</span></span><br><span class="line"><span class="type">time_t</span> <span class="title function_">stime</span><span class="params">(<span class="type">time_t</span> *timer)</span>;  <span class="comment">//è®¾ç½®ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">ctime</span><span class="params">(<span class="type">const</span> <span class="type">time_t</span> *timer)</span>; <span class="comment">//å°†unixæ—¶é—´æˆ³è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ ¼å¼ï¼š æ˜ŸæœŸ æœˆ æ—¥ å°æ—¶:åˆ†:ç§’ å¹´</span></span><br><span class="line"><span class="keyword">struct</span> tm *<span class="title function_">localtime</span><span class="params">(<span class="type">const</span> <span class="type">time_t</span> *timer)</span>; <span class="comment">//å°†unixæ—¶é—´æˆ³å¡«å……åˆ°tmç»“æ„ä½“ä¸­</span></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">strftime</span><span class="params">(<span class="type">char</span> *str, <span class="type">size_t</span> maxsize, <span class="type">const</span> <span class="type">char</span> *format, <span class="type">const</span> <span class="keyword">struct</span> tm *timeptr)</span>ï¼› <span class="comment">//å°†tmç»“æ„ä½“æŒ‰ç…§æŒ‡å®šæ ¼å¼ä¿å­˜åˆ°str</span></span><br></pre></td></tr></table></figure>
<h3 id="ç²¾ç¡®åˆ°æ¯«ç§’"><a href="#ç²¾ç¡®åˆ°æ¯«ç§’" class="headerlink" title="ç²¾ç¡®åˆ°æ¯«ç§’"></a>ç²¾ç¡®åˆ°æ¯«ç§’</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timeval</span>&#123;</span></span><br><span class="line">    <span class="type">long</span>  tv_sec; <span class="comment">// ç§’æ•°</span></span><br><span class="line">    <span class="type">long</span>  tv_usec; <span class="comment">// å¾®ç§’æ•°</span></span><br><span class="line">&#125;ï¼›</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timezone</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> tz_minuteswest;<span class="comment">//GMTå¾€è¥¿æ–¹çš„å°æ—¶æ•°ï¼Œä¸€èˆ¬é…åˆtzsetå‡½æ•°ä½¿ç”¨</span></span><br><span class="line">    <span class="type">int</span> tz_dsttime;<span class="comment">//å¤ä»¤æ—¶</span></span><br><span class="line">&#125;ï¼›</span><br><span class="line"><span class="type">int</span> <span class="title function_">gettimeofday</span><span class="params">(<span class="keyword">struct</span> timeval *tv,<span class="keyword">struct</span> timezone *tz)</span>; <span class="comment">//è·å–æ—¶é—´å’Œæ—¶åŒºä¿¡æ¯</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">settimeofday</span><span class="params">(<span class="type">const</span> <span class="keyword">struct</span> timeval *tv, <span class="type">const</span> <span class="keyword">struct</span> timezone *tz)</span>;  <span class="comment">//è®¾ç½®æ—¶é—´å’Œæ—¶åŒºä¿¡æ¯</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">daylightï¼šæ•´æ•°å…¨å±€å˜é‡ï¼Œç”¨äºè¡¨ç¤ºå½“å‰æ—¶åŒºæ˜¯å¦éµå¾ªå¤ä»¤æ—¶ï¼ˆDaylight Saving Timeï¼‰ã€‚å¦‚æœ daylight çš„å€¼ä¸ºéé›¶ï¼Œåˆ™è¡¨ç¤ºå½“å‰æ—¶åŒºéµå¾ªå¤ä»¤æ—¶è§„åˆ™ï¼Œå¦åˆ™ä¸ºé›¶ã€‚</span></span><br><span class="line"><span class="comment">timezoneï¼šé•¿æ•´å‹å…¨å±€å˜é‡ï¼Œç”¨äºè¡¨ç¤ºå½“å‰æ—¶åŒºä¸ Coordinated Universal Timeï¼ˆUTCï¼‰ä¹‹é—´çš„åç§»é‡ï¼Œå•ä½ä¸ºç§’ã€‚å®ƒè¡¨ç¤ºå½“å‰æ—¶åŒºç›¸å¯¹äº UTC çš„æ—¶é—´å·®ï¼ŒåŒ…æ‹¬å¤ä»¤æ—¶è°ƒæ•´ã€‚</span></span><br><span class="line"><span class="comment">tznameï¼šå­—ç¬¦æ•°ç»„ï¼Œç”¨äºå­˜å‚¨æ—¶åŒºçš„æ ‡å‡†åç§°å’Œå¤ä»¤æ—¶åç§°ã€‚é€šå¸¸ tzname[0] å­˜å‚¨æ ‡å‡†æ—¶åŒºåç§°ï¼Œtzname[1] å­˜å‚¨å¤ä»¤æ—¶æ—¶åŒºåç§°ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">tzset</span><span class="params">(<span class="type">void</span>)</span>; <span class="comment">//ç»™daylight,timezoneå’Œtznameä¸‰ä¸ªå…¨å±€å˜é‡èµ‹å€¼ã€‚</span></span><br></pre></td></tr></table></figure>
<h2 id="è®¾ç½®æ—¶åŒº"><a href="#è®¾ç½®æ—¶åŒº" class="headerlink" title="è®¾ç½®æ—¶åŒº"></a>è®¾ç½®æ—¶åŒº</h2><p>  è§„å®šåœ°ç†ä½ç½®ç›¸å¯¹äºGMTä»¥è¥¿ä¸º+ï¼Œä»¥ä¸œä¸º-ï¼Œä¸œå…«åŒºï¼šGMT-8ã€‚</p>
<h3 id="TZç¯å¢ƒå˜é‡å–å€¼è§„åˆ™"><a href="#TZç¯å¢ƒå˜é‡å–å€¼è§„åˆ™" class="headerlink" title="TZç¯å¢ƒå˜é‡å–å€¼è§„åˆ™"></a>TZç¯å¢ƒå˜é‡å–å€¼è§„åˆ™</h3><p>å‚è€ƒè¯¥æ–‡ç« å³å¯ï¼š</p>
<ul>
<li><a href="https://blog.csdn.net/zhongmushu/article/details/103988051">TZå–å€¼è§„åˆ™</a><br>å½“TZå–å€¼ä¸ºæ—¶åŒºåæ—¶ï¼Œå¯¹åº”çš„zoneinfoæ–‡ä»¶å¿…é¡»å­˜åœ¨ï¼Œå¦‚æœzoneinfoä¸åœ¨é»˜è®¤è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨<code>TZDIR</code>ç¯å¢ƒå˜é‡é…ç½®</li>
</ul>
<h3 id="è®¾ç½®æ–¹æ³•"><a href="#è®¾ç½®æ–¹æ³•" class="headerlink" title="è®¾ç½®æ–¹æ³•"></a>è®¾ç½®æ–¹æ³•</h3><ol>
<li>é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡<br><code>export TZ=GMT-8</code></li>
<li>é€šè¿‡æ–‡ä»¶<code>etc/TZ</code><br><code>echo &quot;Asia/Shanghai&quot; &gt; /etc/TZ</code><br><em>æ³¨æ„ï¼šç¯å¢ƒå˜é‡ä¼˜å…ˆäºæ–‡ä»¶</em></li>
<li>è¿›ç¨‹å†…éƒ¨è®¾ç½®<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">setenv</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *name, <span class="type">const</span> <span class="type">char</span> *value, <span class="type">int</span> overwrite)</span>; <span class="comment">//è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä»…å¯¹å½“å‰è¿›ç¨‹æœ‰æ•ˆ setenv(&quot;TZ&quot;,&quot;GMT-8&quot;,1);</span></span><br></pre></td></tr></table></figure></li>
<li>zoneinfo</li>
</ol>
<ul>
<li><a href="https://www.cnblogs.com/J-YANG/p/14822231.html">å¦‚ä½•ç”¨Buildrootå¢åŠ zoneinfoå¹¶ä¿®æ”¹æ—¶åŒº</a></li>
</ul>
<p>Linuxç³»ç»Ÿä¸­çš„æ—¶åŒºä¿¡æ¯å­˜å‚¨åœ¨<code>/etc/localtime</code>æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘å®é™…çš„æ—¶åŒºæ–‡ä»¶ã€‚è¿™äº›æ—¶åŒºæ–‡ä»¶é€šå¸¸ä½äº<code>usr/share/zoneinfo</code>ç›®å½•ä¸‹ï¼Œæ¯ä¸ªæ—¶åŒºå¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä»¥æ‰€åœ¨åœ°åŒºçš„ç¼©å†™å‘½åï¼Œå¦‚<code>Asia/Shanghai</code>è¡¨ç¤ºç¾å›½çº½çº¦æ—¶åŒºã€‚<br><code>zoneinfo</code>æ˜¯linxç³»ç»Ÿä¸­ç”¨äºç®¡ç†æ—¶åŒºä¿¡æ¯çš„æ•°æ®åº“.å®ƒåŒ…å«äº†ä¸–ç•Œä¸Šå„ä¸ªæ—¶åŒºçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ—¶åŒºåç§°ã€å¤ä»¤æ—¶è§„åˆ™ç­‰ã€‚å½“ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œå®ƒä¼šè¯»å–&#x2F;etc&#x2F;localtimeæ–‡ä»¶æ¥è·å–å½“å‰ç³»ç»Ÿçš„æ—¶åŒºè®¾ç½®ï¼Œç„¶åæ ¹æ®è¿™ä¸ªè®¾ç½®å»Zoneinfoæ•°æ®åº“ä¸­æŸ¥æ‰¾å¯¹åº”çš„æ—¶åŒºä¿¡æ¯ã€‚</p>
<h2 id="Linux-Cè®¾ç½®æ—¶åŒº"><a href="#Linux-Cè®¾ç½®æ—¶åŒº" class="headerlink" title="Linux Cè®¾ç½®æ—¶åŒº"></a>Linux Cè®¾ç½®æ—¶åŒº</h2><p>è¯¥æ–¹æ³•ä»…å¯¹å½“å‰ç¨‹åºç”Ÿæ•ˆ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mian</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">tv</span>;</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">timezone</span> <span class="title">tz</span>;</span></span><br><span class="line">  <span class="type">char</span> cmd[<span class="number">128</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">  gettimeofday(&amp;tv,&amp;tz);</span><br><span class="line">  setenv(<span class="string">&quot;TZDIR&quot;</span>, <span class="string">&quot;/system/usr/share/zoneinfo&quot;</span>, <span class="number">1</span>);</span><br><span class="line">  setenv(<span class="string">&quot;TZ&quot;</span>, <span class="string">&quot;Asia/Shanghai&quot;</span>, <span class="number">1</span>);</span><br><span class="line">  tzset();</span><br><span class="line">  tz.tz_minuteswest = <span class="number">0</span>;</span><br><span class="line">  tz.tz_dsttime = <span class="number">0</span>;</span><br><span class="line">  settimeofday(<span class="literal">NULL</span>,&amp;tz);</span><br><span class="line">  tz.tz_minuteswest = timezone/<span class="number">60</span>;</span><br><span class="line">  settimeofday(<span class="literal">NULL</span>,&amp;tz);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>Linuxè®¾ç½®</tag>
        <tag>TZ</tag>
      </tags>
  </entry>
  <entry>
    <title>GITåŸºç¡€å‘½ä»¤</title>
    <url>/2024/03/18/study/tools/GIT%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;example&quot;</span><br><span class="line">git config --global user.email example</span><br><span class="line">git config --list </span><br><span class="line">ssh-keygen -t rsa -C &quot;example&quot;</span><br></pre></td></tr></table></figure>
<h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone &lt; repo url &gt;</span><br></pre></td></tr></table></figure>
<h2 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git branch //åˆ—å‡ºæœ¬åœ°åˆ†æ”¯</span><br><span class="line">git branch -r //åˆ—å‡ºè¿œç¨‹åˆ†æ”¯</span><br><span class="line">git branch -a //åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯</span><br><span class="line">git branch test //åˆ‡æ¢è‡³teståˆ†æ”¯ï¼Œç¡®ä¿å½“å‰æ— ä¿®æ”¹ï¼Œå¦‚æœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ›å»ºåˆ†æ”¯</span><br><span class="line">git branch -d test //åˆ é™¤teståˆ†æ”¯</span><br><span class="line">git branch -D test //å¼ºåˆ¶åˆ é™¤teståˆ†æ”¯</span><br><span class="line">git branch -vv //æŸ¥çœ‹æœ€è¿‘ä¸€æ¬¡æäº¤</span><br><span class="line">git branch -m newtest //ä¿®æ”¹åˆ†æ”¯åç§°</span><br><span class="line">git push origin --delete test //åˆ é™¤è¿œç¨‹teståˆ†æ”¯</span><br></pre></td></tr></table></figure>
<h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout filename //æ”¾å¼ƒå•ä¸ªæ–‡ä»¶çš„ä¿®æ”¹</span><br><span class="line">git checkout . //æ”¾å¼ƒå½“å‰ç›®å½•çš„ä¿®æ”¹</span><br><span class="line">git checkout branchname //åˆ‡æ¢åˆ°branchnameåˆ†æ”¯</span><br><span class="line">git checkout -b test //å¦‚æœå­˜åœ¨åˆ‡æ¢åˆ°teståˆ†æ”¯ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span><br></pre></td></tr></table></figure>
<h2 id="git-merger-rebase"><a href="#git-merger-rebase" class="headerlink" title="git merger&#x2F;rebase"></a>git merger&#x2F;rebase</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git merge/rebase test //å°†teståˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">git merge/rebase -m &quot;info&quot; //åˆå¹¶æ—¶æ·»åŠ æè¿°</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åŒºåˆ«ï¼š</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœåˆå¹¶å‡ºç°å†²çªçš„è¯ï¼Œè§£å†³å†²çªågit mergeéœ€è¦ git add,git commitï¼Œä¹‹åmergeã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rebaseåˆ™åªéœ€è¦git add,ä¹‹ågit rebase --<span class="built_in">continue</span>,å¦‚æœä¸æƒ³è§£å†³å†²çªä¸”ä¸åœ¨åˆå¹¶ï¼Œå¯ä»¥git rebase --abort</span></span><br></pre></td></tr></table></figure>
<h2 id="git-pull-fetch"><a href="#git-pull-fetch" class="headerlink" title="git pull&#x2F;fetch"></a>git pull&#x2F;fetch</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull //ä»è¿œç«¯è·å–ä»£ç åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯</span><br><span class="line">git fetch //ä»è¿œç¨‹æ‹‰å–æ›´æ–°ä¸åˆå¹¶</span><br></pre></td></tr></table></figure>
<h2 id="git-cherry-pick"><a href="#git-cherry-pick" class="headerlink" title="git cherry-pick"></a>git cherry-pick</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git cherry-pick commitId //åˆå¹¶æŸä¸€æ¬¡æäº¤</span><br></pre></td></tr></table></figure>

<h2 id="å›é€€è¿œç«¯"><a href="#å›é€€è¿œç«¯" class="headerlink" title="å›é€€è¿œç«¯"></a>å›é€€è¿œç«¯</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push origin HEAD --force</span><br></pre></td></tr></table></figure>

<h2 id="å›¾å½¢ç•Œé¢"><a href="#å›¾å½¢ç•Œé¢" class="headerlink" title="å›¾å½¢ç•Œé¢"></a>å›¾å½¢ç•Œé¢</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gitk</span><br></pre></td></tr></table></figure>

<h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git tag -a &lt;ver&gt; &lt;commit id&gt; -m &quot;å¤‡æ³¨&quot; #æŒ‡å®šcommit idæ–°å¢tag</span><br><span class="line">git push --tags #æ¨é€æ‰€æœ‰tagåˆ°è¿œç«¯</span><br><span class="line">git push origin tagname #æ¨é€å•ä¸ªtag</span><br><span class="line">git tag -d tagname #åˆ é™¤æœ¬åœ°tag</span><br><span class="line">git push origin :refs/tags/tagname #åˆ é™¤è¿œç«¯tag</span><br></pre></td></tr></table></figure>

<h2 id="æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç«¯"><a href="#æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç«¯" class="headerlink" title="æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç«¯"></a>æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç«¯</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">githubæ–°å»ºä»“åº“ï¼Œæ‹¿åˆ°åœ°å€</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">git remote add origin &lt; repo url &gt;</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">git push --set-upstream origin master</span></span><br></pre></td></tr></table></figure>

<h2 id="git-clean-æ¸…é™¤æ–‡ä»¶"><a href="#git-clean-æ¸…é™¤æ–‡ä»¶" class="headerlink" title="git clean æ¸…é™¤æ–‡ä»¶"></a>git clean æ¸…é™¤æ–‡ä»¶</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clean -n [path] #æ˜¾ç¤ºpathç›®å½•ä¸‹ä¼šè¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œä½†æ˜¯ä¸ä¼šæ˜¾ç¤ºæ–‡ä»¶å¤¹</span><br><span class="line">git clean -f [path] #åˆ é™¤å½“å‰ç›®å½•çš„æ–°å¢æ–‡ä»¶ï¼Œä½†æ˜¯ä¸ä¼šåˆ é™¤æ–‡ä»¶å¤¹</span><br><span class="line">git clean -df #åˆ é™¤å½“å‰ç›®å½•æ–°å¢æ–‡ä»¶ï¼ŒåŒ…æ‹¬æ–‡ä»¶å¤¹</span><br><span class="line">git clean -xdf #åˆ é™¤æ–°å¢ï¼ŒåŒ…æ‹¬gitignore</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹æ³¨é‡Š"><a href="#ä¿®æ”¹æ³¨é‡Š" class="headerlink" title="ä¿®æ”¹æ³¨é‡Š"></a>ä¿®æ”¹æ³¨é‡Š</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git commit --amend</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿å­˜é€€å‡º</span></span><br><span class="line">ctrl+x </span><br><span class="line">enter</span><br></pre></td></tr></table></figure>

<h2 id="åŒæ­¥å­ä»“åº“"><a href="#åŒæ­¥å­ä»“åº“" class="headerlink" title="åŒæ­¥å­ä»“åº“"></a>åŒæ­¥å­ä»“åº“</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git submodule update --init</span><br></pre></td></tr></table></figure>

<h2 id="åº”ç”¨patch"><a href="#åº”ç”¨patch" class="headerlink" title="åº”ç”¨patch"></a>åº”ç”¨patch</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. è¿›å…¥éœ€è¦æ›´æ–°çš„ç›®å½•</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. æ‰§è¡Œå‘½ä»¤ï¼Œ-pæŒ‡å¿½ç•¥çš„ç›®å½•å±‚çº§ï¼Œ-p 1æŒ‡å¿½ç•¥ç¬¬ä¸€å±‚ç›®å½•</span></span><br><span class="line">cat ~/test.patch | patch -p 1</span><br></pre></td></tr></table></figure>

<h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global http.sslverify false</span><br><span class="line">git config --global https.sslverify false</span><br><span class="line">git config --global credential.helper store</span><br></pre></td></tr></table></figure>

<h2 id="CRLF"><a href="#CRLF" class="headerlink" title="CRLF"></a>CRLF</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config core.autocrlf input</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
        <category>tools</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>éŸ³é¢‘ç¼–è§£ç </title>
    <url>/2024/03/20/study/wiki/%E9%9F%B3%E9%A2%91%E7%BC%96%E8%A7%A3%E7%A0%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="PCM-è„‰å†²ç¼–ç è°ƒåˆ¶ï¼ˆPulseCodeModulationï¼‰"><a href="#PCM-è„‰å†²ç¼–ç è°ƒåˆ¶ï¼ˆPulseCodeModulationï¼‰" class="headerlink" title="PCM - è„‰å†²ç¼–ç è°ƒåˆ¶ï¼ˆPulseCodeModulationï¼‰"></a>PCM - è„‰å†²ç¼–ç è°ƒåˆ¶ï¼ˆPulseCodeModulationï¼‰</h2><p>å¥ˆå…‹æ–¯ç‰¹-é¦™å†œé‡‡æ ·å®šç†ï¼šé‡‡æ ·é¢‘ç‡å¤§äº2å€çš„æœ€å¤§é¢‘ç‡ï¼Œæ‰èƒ½æœ€å¤§é™åº¦çš„è¿˜åŸå‡ºæ¨¡æ‹Ÿä¿¡å·ã€‚<br>PCMæ˜¯ä¸€ç§æ•°å­—éŸ³é¢‘ç¼–ç æ–¹å¼ï¼Œç”¨äºå°†æ¨¡æ‹Ÿä¿¡å·è½¬æ¢ä¸ºæ•°å­—ä¿¡å·ã€‚åœ¨PCMç¼–ç ä¸­ï¼Œæ¨¡æ‹Ÿä¿¡å·æŒ‰ç…§ä¸€å®šçš„é‡‡æ ·é¢‘ç‡è¿›è¡Œé‡‡æ ·ï¼Œå¹¶é€šè¿‡é‡åŒ–å’Œç¼–ç è½¬æ¢ä¸ºæ•°å­—ä¿¡å·ã€‚PCMæ•°æ®å¯ä»¥ç›´æ¥é€è¿›DACè¿›è¡Œæ’­æ”¾ã€‚</p>
<h2 id="éŸ³é¢‘å‚æ•°"><a href="#éŸ³é¢‘å‚æ•°" class="headerlink" title="éŸ³é¢‘å‚æ•°"></a>éŸ³é¢‘å‚æ•°</h2><ol>
<li><p>é‡‡æ ·ç‡ï¼ˆSample Rateï¼‰ï¼šé‡‡æ ·ç‡æ˜¯æŒ‡æ¯ç§’é’Ÿå¯¹å£°éŸ³ä¿¡å·çš„é‡‡æ ·æ¬¡æ•°ï¼Œä»¥èµ«å…¹ï¼ˆHzï¼‰ä¸ºå•ä½ã€‚å¸¸è§çš„é‡‡æ ·ç‡åŒ…æ‹¬ 44.1kHzï¼ˆCDéŸ³è´¨ï¼‰ã€48kHzï¼ˆDVDã€è“å…‰éŸ³è´¨ï¼‰ã€96kHzï¼ˆé«˜æ¸…éŸ³è´¨ï¼‰ç­‰ã€‚é‡‡æ ·ç‡è¶Šé«˜ï¼Œèƒ½å¤Ÿè®°å½•çš„å£°éŸ³é¢‘ç‡èŒƒå›´ä¹Ÿå°±è¶Šå®½ï¼ŒéŸ³è´¨ä¹Ÿå°±æ›´å¥½ï¼Œä½†ç›¸åº”çš„æ–‡ä»¶å¤§å°ä¹Ÿä¼šå¢åŠ ã€‚</p>
</li>
<li><p>ä½æ·±åº¦ï¼ˆBit Depthï¼‰ï¼šä½æ·±åº¦è¡¨ç¤ºæ¯ä¸ªæ ·æœ¬çš„é‡åŒ–ç²¾åº¦ï¼Œé€šå¸¸ä»¥æ¯”ç‰¹ï¼ˆbitï¼‰ä¸ºå•ä½ã€‚å¸¸è§çš„ä½æ·±åº¦åŒ…æ‹¬ 16ä½ã€24ä½å’Œ32ä½æµ®ç‚¹æ•°ã€‚ä½æ·±åº¦è¶Šé«˜ï¼Œå¯ä»¥è¡¨ç¤ºçš„åŠ¨æ€èŒƒå›´å°±è¶Šå¤§ï¼ŒéŸ³é¢‘çš„ç»†èŠ‚è¡¨ç°ä¹Ÿæ›´ä¸°å¯Œï¼Œä½†æ–‡ä»¶å¤§å°ä¹Ÿéšä¹‹å¢åŠ ã€‚</p>
</li>
</ol>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/381093568?ivk_sa=1024320u&utm_id=0">ä»€ä¹ˆæ˜¯ä½æ·±åº¦</a></li>
</ul>
<ol start="3">
<li><p>å£°é“æ•°ï¼ˆChannelsï¼‰ï¼šå£°é“æ•°è¡¨ç¤ºéŸ³é¢‘æ–‡ä»¶ä¸­åŒ…å«çš„ç‹¬ç«‹å£°é“æ•°é‡ï¼Œå¸¸è§çš„æœ‰å•å£°é“ï¼ˆmonoï¼‰å’ŒåŒå£°é“ï¼ˆstereoï¼‰ã€‚å¤šå£°é“éŸ³é¢‘å¯ä»¥æ›´å‡†ç¡®åœ°å®šä½å£°éŸ³æ¥æºï¼Œå®ç°ç¯ç»•éŸ³æ•ˆç­‰ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¢åŠ æ–‡ä»¶å¤§å°ã€‚</p>
</li>
<li><p>ç¼–ç æ ¼å¼ï¼ˆCodec Formatï¼‰ï¼šç¼–ç æ ¼å¼å†³å®šäº†éŸ³é¢‘æ•°æ®çš„å‹ç¼©æ–¹å¼å’Œè§£ç è§„åˆ™ï¼Œå¸¸è§çš„åŒ…æ‹¬MP3ã€AACã€WAVã€FLACã€OPUSç­‰ã€‚ä¸åŒçš„ç¼–ç æ ¼å¼å…·æœ‰ä¸åŒçš„å‹ç¼©ç‡å’ŒéŸ³è´¨è¡¨ç°ï¼Œé€‰æ‹©åˆé€‚çš„ç¼–ç æ ¼å¼å¯ä»¥æ ¹æ®å…·ä½“çš„åº”ç”¨éœ€æ±‚å’Œå­˜å‚¨&#x2F;ä¼ è¾“èµ„æºè¿›è¡Œæƒè¡¡ã€‚</p>
</li>
</ol>
<h2 id="ç¼–è§£ç "><a href="#ç¼–è§£ç " class="headerlink" title="ç¼–è§£ç "></a>ç¼–è§£ç </h2><p>ç¼–ç ä¸€èˆ¬æƒ…å†µéƒ½æ˜¯ç”±åŸå§‹çš„PCMæ•°æ®ç¼–ç æˆå…¶ä»–æ•°æ®ï¼Œè§£ç åä¹‹ã€‚</p>
<h3 id="WAVç¼–ç "><a href="#WAVç¼–ç " class="headerlink" title="WAVç¼–ç "></a>WAVç¼–ç </h3><h3 id="WAVè§£ç "><a href="#WAVè§£ç " class="headerlink" title="WAVè§£ç "></a>WAVè§£ç </h3><h3 id="G711ç¼–ç "><a href="#G711ç¼–ç " class="headerlink" title="G711ç¼–ç "></a>G711ç¼–ç </h3><h3 id="G711è§£ç "><a href="#G711è§£ç " class="headerlink" title="G711è§£ç "></a>G711è§£ç </h3><h3 id="OPUSç¼–ç "><a href="#OPUSç¼–ç " class="headerlink" title="OPUSç¼–ç "></a>OPUSç¼–ç </h3><h3 id="OPUSè§£ç "><a href="#OPUSè§£ç " class="headerlink" title="OPUSè§£ç "></a>OPUSè§£ç </h3>]]></content>
      <categories>
        <category>study</category>
        <category>wiki</category>
      </categories>
      <tags>
        <tag>éŸ³è§†é¢‘ç›¸å…³</tag>
        <tag>ç¼–è§£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuäº¤å‰ç¼–è¯‘ç¯å¢ƒé…ç½®</title>
    <url>/2024/03/25/study/linux/Ubuntu%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h2><p><em>ä¸‹é¢æ˜¯arm&#x2F;mipsåœ¨ubuntu 22.04ä¸Šå¸¸ç”¨çš„ä¾èµ–é¡¹</em></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update </span><br><span class="line">sudo apt-get install gcc g++ binutils patch bzip2 flex bison make autoconf gettext texinfo unzip sharutils subversion libncurses5-dev ncurses-term zlib1g-dev subversion git-core gawk asciidoc libz-dev zlib1g-dev libssl-dev pkg-config unzip zlib1g-dev libc6-dev libncurses5-dev gawk sharutils curl libxml-parser-perl ocaml-nox ocaml ocaml-findlib libssl-dev libfdt-dev quilt device-tree-compiler u-boot-tools lsb-core lib32z1 cmake mtd-utils python2 python3-pip cryptsetup-bin</span><br><span class="line">curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip.py</span><br><span class="line">sudo python2 get-pip.py</span><br><span class="line">pip2 install pycryptodome</span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h2><p>è·å–ä½ éœ€è¦ä½¿ç”¨çš„äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼Œç„¶åå°†å·¥å…·é“¾çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡é‡Œ</p>
<ol>
<li><code>$ vim ~/.bashrc</code><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:path/to/bin <span class="comment">#path/toè®°å¾—ä¿®æ”¹ä¸ºçœŸæ­£çš„ç›®å½•ï¼Œå¦‚æœæœ‰å¤šä¸ªå·¥å…·é“¾ï¼Œå¯ä»¥ç”¨ &#x27;:&#x27;éš”å¼€ï¼Œä¹Ÿå¯ä»¥å¦èµ·ä¸€è¡Œ</span></span><br><span class="line"><span class="built_in">export</span> PS1=<span class="string">&#x27;$(date +%H:%M:%S) \[\033[01;33m\]\W\[\033[36m\] $&#x27;</span> <span class="comment">#å¯é€‰é¡¹ï¼Œä¿®æ”¹åç»ˆç«¯æç¤ºç¬¦æ˜¾ç¤ºï¼šæ—¶é—´+å½“å‰ç›®å½•+$ ï¼ˆ14:37:31 ~ $ï¼‰</span></span><br></pre></td></tr></table></figure></li>
<li><code>$ source ~/.bashrc</code><br>è¿™ä¸ªå‘½ä»¤ä½¿ä¸Šé¢çš„ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ</li>
<li>æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦ç”Ÿæ•ˆ<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å‡è®¾ä½ çš„å·¥å…·é“¾æ˜¯arm-linux-</span></span><br><span class="line">$ arm-linux-gcc -v <span class="comment">#æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå¦‚æœæœ‰ç‰ˆæœ¬å·çš„å›æ˜¾ï¼Œè¯´æ˜å·¥å…·é“¾å·²æˆåŠŸæ·»åŠ åˆ°ç¯å¢ƒå˜é‡</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="å…¶ä»–ä¸ªæ€§åŒ–é…ç½®"><a href="#å…¶ä»–ä¸ªæ€§åŒ–é…ç½®" class="headerlink" title="å…¶ä»–ä¸ªæ€§åŒ–é…ç½®"></a>å…¶ä»–ä¸ªæ€§åŒ–é…ç½®</h2><h3 id="è™šæ‹Ÿæœºå¼€æœºè‡ªåŠ¨æŒ‚è½½å…±äº«æ–‡ä»¶å¤¹"><a href="#è™šæ‹Ÿæœºå¼€æœºè‡ªåŠ¨æŒ‚è½½å…±äº«æ–‡ä»¶å¤¹" class="headerlink" title="è™šæ‹Ÿæœºå¼€æœºè‡ªåŠ¨æŒ‚è½½å…±äº«æ–‡ä»¶å¤¹"></a>è™šæ‹Ÿæœºå¼€æœºè‡ªåŠ¨æŒ‚è½½å…±äº«æ–‡ä»¶å¤¹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo vim /ext/fstab</span><br><span class="line">.host:/share /mnt/hgfs fuse.vmhgfs-fuse allow_other,defaults 0 0</span><br></pre></td></tr></table></figure>
<h3 id="å®‰è£…ssh-server"><a href="#å®‰è£…ssh-server" class="headerlink" title="å®‰è£…ssh&#x3D;server"></a>å®‰è£…ssh&#x3D;server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br><span class="line">sudo systemctl status ssh</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> ssh</span><br></pre></td></tr></table></figure>
<h3 id="windows-sshå…å¯†ç™»å½•"><a href="#windows-sshå…å¯†ç™»å½•" class="headerlink" title="windows sshå…å¯†ç™»å½•"></a>windows sshå…å¯†ç™»å½•</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> windows/path/id_isa.pub &gt;&gt; ubuntu/~/.ssh/authorized_keys <span class="comment">#æŒ‡å°†windowsä¸‹çš„keyå¤åˆ¶åˆ°ubuntuç›®å½•ä¸‹</span></span><br></pre></td></tr></table></figure>
<h3 id="å®‰è£…nfs-server"><a href="#å®‰è£…nfs-server" class="headerlink" title="å®‰è£…nfs-server"></a>å®‰è£…nfs-server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®‰è£…</span></span><br><span class="line">sudo apt install nfs-kernel-server</span><br><span class="line">sudo <span class="built_in">mkdir</span> /nfsroot</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/home/kaikai/nfsshare  *(rw,sync,no_root_squash)&quot;</span> &gt;&gt; /etc/exports</span><br><span class="line"><span class="comment"># /nfsrootï¼šæŒ‡å®š/nfsrootä¸ºnfsæœåŠ¡å™¨çš„å…±äº«ç›®å½•</span></span><br><span class="line"><span class="comment"># *ï¼šå…è®¸æ‰€æœ‰çš„ç½‘æ®µè®¿é—®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…·ä½“çš„IP</span></span><br><span class="line"><span class="comment"># rwï¼šæŒ‚æ¥æ­¤ç›®å½•çš„å®¢æˆ·ç«¯å¯¹è¯¥å…±äº«ç›®å½•å…·æœ‰è¯»å†™æƒé™</span></span><br><span class="line"><span class="comment"># syncï¼šèµ„æ–™åŒæ­¥å†™å…¥å†…å­˜å’Œç¡¬ç›˜</span></span><br><span class="line"><span class="comment"># no_root_squashï¼šrootç”¨æˆ·å…·æœ‰å¯¹æ ¹ç›®å½•çš„å®Œå…¨ç®¡ç†è®¿é—®æƒé™</span></span><br><span class="line"><span class="comment"># no_subtree_checkï¼šä¸æ£€æŸ¥çˆ¶ç›®å½•çš„æƒé™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯æœåŠ¡</span></span><br><span class="line">sudo service nfs-kernel-server restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ£€æŸ¥å…±äº«ç›®å½•</span></span><br><span class="line">showmount -e localhost</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®¢æˆ·ç«¯æŒ‚è½½</span></span><br><span class="line">mount -t nfs -o nolock 192.168.2.183:/nfsroot /nfsroot</span><br><span class="line">-tï¼šæŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹</span><br><span class="line">-o nolockï¼šä¸è¦æ–‡ä»¶é”</span><br><span class="line">192.168.xxx.xxx:/nfsrootï¼šnfsæœåŠ¡å™¨ip:æœåŠ¡å™¨å…±äº«ç›®å½•</span><br><span class="line">nfsrootï¼šå®¢æˆ·ç«¯å·²å­˜åœ¨çš„ç›®å½•</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>study</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>ubuntu</tag>
        <tag>äº¤å‰ç¼–è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXOæ­å»ºä¸ªäººåšå®¢</title>
    <url>/2024/03/17/study/tools/HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æ¨èä½¿ç”¨butterflyä¸»é¢˜"><a href="#æ¨èä½¿ç”¨butterflyä¸»é¢˜" class="headerlink" title="æ¨èä½¿ç”¨butterflyä¸»é¢˜"></a>æ¨èä½¿ç”¨butterflyä¸»é¢˜</h2><p>*ä½œè€…æä¾›äº†éå¸¸æ£’çš„è¯´æ˜æ–‡æ¡£ï¼Œç‚¹å‡»é“¾æ¥ç«‹åˆ»å¼€å§‹æ­å»ºä½ è‡ªå·±çš„å°ç«™å§<br><a href="https://butterfly.js.org/">ä¸»é¢˜é“¾æ¥</a></p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><h3 id="hexo-generate"><a href="#hexo-generate" class="headerlink" title="hexo generate"></a>hexo generate</h3><p>æ„å»ºé™æ€ç½‘ç«™</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> hexo g</span><br></pre></td></tr></table></figure>
<h3 id="hexo-deploy"><a href="#hexo-deploy" class="headerlink" title="hexo deploy"></a>hexo deploy</h3><p>ä¸€é”®éƒ¨ç½²åˆ°GITHUB PAGEï¼Œå‚è€ƒ<a href="https://hexo.io/zh-cn/docs/one-command-deployment">HEXOå®˜æ–¹æ–‡æ¡£é“¾æ¥</a></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> hexo deploy</span><br></pre></td></tr></table></figure>
<h3 id="hexo-n-p-dir-title"><a href="#hexo-n-p-dir-title" class="headerlink" title="hexo n -p dir&#x2F;title"></a>hexo n -p dir&#x2F;title</h3><p>æ–°å¢æ–‡ç« åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸º<code>source/_posts/</code></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> hexo n <span class="literal">-p</span> study/hexo/HEXOæ­å»ºä¸ªäººåšå®¢</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>study</category>
        <category>tools</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>butterfly</tag>
      </tags>
  </entry>
  <entry>
    <title>1.ä»é›¶å¼€å§‹å­¦Linuxå†…æ ¸æºç  - æºç ä¸‹è½½åŠé…ç½®ç¼–è¯‘</title>
    <url>/2024/03/30/study/linux/kernel/1.%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AD%A6Linux%E5%86%85%E6%A0%B8%E6%BA%90%E7%A0%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><em>æ‰€æœ‰æ“ä½œå‡æ˜¯linux-6.8.2ç‰ˆæœ¬</em></p>
<h2 id="kernelæºç ä¸‹è½½"><a href="#kernelæºç ä¸‹è½½" class="headerlink" title="kernelæºç ä¸‹è½½"></a>kernelæºç ä¸‹è½½</h2><ul>
<li><a href="https://www.kernel.org/">å®˜æ–¹ç½‘ç«™</a></li>
<li><a href="https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.8.2.tar.xz">linux-6.8.2</a></li>
</ul>
<h2 id="kernelç›®å½•ç»“æ„"><a href="#kernelç›®å½•ç»“æ„" class="headerlink" title="kernelç›®å½•ç»“æ„"></a>kernelç›®å½•ç»“æ„</h2><p><img src="/img/kernel/linux-6.8.2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="Linux-6.8.2ä¸€çº§ç›®å½•"></p>
<h3 id="ç›®å½•è¯´æ˜"><a href="#ç›®å½•è¯´æ˜" class="headerlink" title="ç›®å½•è¯´æ˜"></a>ç›®å½•è¯´æ˜</h3><table>
<thead>
<tr>
<th>ç›®å½•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>arch</td>
<td>åŒ…å«äº†å„ç§ä¸åŒçš„CPUä½“ç³»æ¶æ„çš„ä»£ç ï¼Œå¦‚æœARMã€x86ã€MIPSç­‰</td>
</tr>
<tr>
<td>block</td>
<td>åŒ…å«å—è®¾å¤‡ç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>crets</td>
<td>åŒ…å«äº†ç”¨äºç­¾åå’ŒéªŒè¯å†…æ ¸æ¨¡å—çš„è¯ä¹¦æ–‡ä»¶å’Œå·¥å…·</td>
</tr>
<tr>
<td>crypto</td>
<td>åŒ…å«åŠ å¯†ç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>Documentation</td>
<td>åŒ…å«äº†å†…æ ¸çš„æ–‡æ¡£ï¼ŒåŒ…æ‹¬å„ç§æ–‡æ¡£ã€æ³¨é‡Šå’Œå¸®åŠ©æ–‡ä»¶</td>
</tr>
<tr>
<td>drivers</td>
<td>å«äº†è®¾å¤‡é©±åŠ¨ç¨‹åºçš„æºä»£ç ï¼Œå¦‚è¾“å…¥è¾“å‡ºè®¾å¤‡ã€ç½‘ç»œè®¾å¤‡ç­‰</td>
</tr>
<tr>
<td>fs</td>
<td>åŒ…å«äº†æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„ä»£ç ï¼Œå¦‚ ext4ã€NTFSã€FAT ç­‰</td>
</tr>
<tr>
<td>include</td>
<td>åŒ…å«äº†ä¸€äº›å¤´æ–‡ä»¶ï¼Œç”¨äºå¼•å…¥å®šä¹‰å’Œå£°æ˜</td>
</tr>
<tr>
<td>init</td>
<td>åŒ…å«äº†å¯åŠ¨å’Œåˆå§‹åŒ–ä»£ç </td>
</tr>
<tr>
<td>io_uring</td>
<td>åŒ…å«äº†ä¸ io_uring æ¡†æ¶ç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>ipc</td>
<td>åŒ…å«äº†è¿›ç¨‹é—´é€šä¿¡ç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>kernel</td>
<td>åŒ…å«äº†å†…æ ¸çš„æ ¸å¿ƒä»£ç </td>
</tr>
<tr>
<td>lib</td>
<td>åŒ…å«äº†ä¸€äº›é€šç”¨çš„å‡½æ•°åº“</td>
</tr>
<tr>
<td>mm</td>
<td>åŒ…å«äº†å†…å­˜ç®¡ç†ç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>net</td>
<td>åŒ…å«äº†ç½‘ç»œåè®®æ ˆç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>rust</td>
<td>å¼•å…¥äº†ä¸€äº›rustç‰¹æ€§</td>
</tr>
<tr>
<td>samples</td>
<td>åŒ…å«äº†ä¸€äº›ç¤ºä¾‹ä»£ç </td>
</tr>
<tr>
<td>scripts</td>
<td>åŒ…å«äº†ä¸€äº›è¾…åŠ©è„šæœ¬ï¼Œç”¨äºæ„å»ºå’Œç»´æŠ¤å†…æ ¸</td>
</tr>
<tr>
<td>security</td>
<td>åŒ…å«äº†å®‰å…¨å­ç³»ç»Ÿç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>sound</td>
<td>åŒ…å«äº†å£°éŸ³å­ç³»ç»Ÿç›¸å…³çš„ä»£ç </td>
</tr>
<tr>
<td>tools</td>
<td>åŒ…å«äº†ä¸€äº›å·¥å…·ï¼Œç”¨äºè¾…åŠ©å†…æ ¸å¼€å‘å’Œè°ƒè¯•</td>
</tr>
<tr>
<td>usr</td>
<td>åŒ…å«äº†ç”¨æˆ·ç©ºé—´å·¥å…·å’Œåº“ï¼Œè¿™äº›å·¥å…·å’Œåº“é€šå¸¸ç”¨äºä¸å†…æ ¸äº¤äº’</td>
</tr>
<tr>
<td>virt</td>
<td>åŒ…å«äº†è™šæ‹ŸåŒ–ç›¸å…³çš„ä»£ç </td>
</tr>
</tbody></table>
<h3 id="æ–‡ä»¶è¯´æ˜"><a href="#æ–‡ä»¶è¯´æ˜" class="headerlink" title="æ–‡ä»¶è¯´æ˜"></a>æ–‡ä»¶è¯´æ˜</h3><table>
<thead>
<tr>
<th>æ–‡ä»¶</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>COPYING</td>
<td>åŒ…å«äº†è®¸å¯è¯ä¿¡æ¯</td>
</tr>
<tr>
<td>CREDITS</td>
<td>åŒ…å«äº†å¯¹ Linux å†…æ ¸è´¡çŒ®è€…çš„è‡´è°¢</td>
</tr>
<tr>
<td>Kbuild</td>
<td>ç”¨äºç®¡ç†å†…æ ¸æºä»£ç çš„ç¼–è¯‘å’Œæ„å»ºè¿‡ç¨‹</td>
</tr>
<tr>
<td>Kconfig</td>
<td>ç”¨äºé…ç½®å†…æ ¸ç¼–è¯‘æ—¶çš„å„ç§é€‰é¡¹å’Œç‰¹æ€§</td>
</tr>
<tr>
<td>MAINTAINERS</td>
<td>åŒ…å«äº† Linux å†…æ ¸çš„ç»´æŠ¤è€…åˆ—è¡¨</td>
</tr>
<tr>
<td>Makefile</td>
<td>ç³»ç»Ÿç¼–è¯‘å’Œæ„å»ºè„šæœ¬</td>
</tr>
<tr>
<td>README</td>
<td>ä»å…¥é—¨åˆ°å…¥åœŸğŸ˜­</td>
</tr>
</tbody></table>
<h2 id="README"><a href="#README" class="headerlink" title="README"></a>README</h2><p>æä¾›äº†ä¸¤ä¸ªéå¸¸é‡è¦çš„ä¿¡æ¯ï¼š</p>
<ol>
<li><a href="https://www.kernel.org/doc/html/latest/admin-guide/README.html">Documentation&#x2F;admin-guide&#x2F;README.rst</a> :ä»€ä¹ˆæ˜¯Linuxä»¥åŠå¦‚ä½•ç¼–è¯‘å’Œé…ç½®ä»–ï¼Ÿ</li>
<li><a href="https://www.kernel.org/doc/html/latest/process/changes.html#changes">Documentation&#x2F;process&#x2F;changes.rst</a> ï¼šç¼–è¯‘å†…æ ¸çš„æœ€å°é…ç½®ï¼Ÿç¼–è¯‘é‡åˆ°é”™è¯¯ï¼Œå‚è€ƒè¯¥æ–‡ç« </li>
</ol>
<h3 id="å®‰è£…å†…æ ¸"><a href="#å®‰è£…å†…æ ¸" class="headerlink" title="å®‰è£…å†…æ ¸"></a>å®‰è£…å†…æ ¸</h3><h4 id="é¦–æ¬¡å®‰è£…"><a href="#é¦–æ¬¡å®‰è£…" class="headerlink" title="é¦–æ¬¡å®‰è£…"></a>é¦–æ¬¡å®‰è£…</h4><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼šè¯¥å‘½ä»¤æ˜¯å°†æ–‡ä»¶æå–å¹¶è§£å‹åˆ°å½“å‰æ–‡ä»¶å¤¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–çš„è§£å‹æ–¹å¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xz -<span class="built_in">cd</span> linux-6.8.2.tar.xz | tar xvf -</span><br></pre></td></tr></table></figure>
<h4 id="æ›´æ–°patch"><a href="#æ›´æ–°patch" class="headerlink" title="æ›´æ–°patch"></a>æ›´æ–°patch</h4><p>åœ¨linuxå†…æ ¸æºç çš„æ ¹ç›®å½•æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤:<code>/path/to</code>æ˜¯patchæ‰€åœ¨ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xz -<span class="built_in">cd</span> /path/to/patch-6.x.xz | patch -p1</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ä½¿ç”¨<code>scripts/patch-kernel</code>è„šæœ¬è‡ªåŠ¨å‡çº§patch</p>
<h3 id="é…ç½®å¹¶ç¼–è¯‘å†…æ ¸"><a href="#é…ç½®å¹¶ç¼–è¯‘å†…æ ¸" class="headerlink" title="é…ç½®å¹¶ç¼–è¯‘å†…æ ¸"></a>é…ç½®å¹¶ç¼–è¯‘å†…æ ¸</h3><p>å¯ä»¥é€šè¿‡<code>make O=output/dir</code>è®¾ç½®ç¼–è¯‘ç›®å½•å’Œè¾“å‡ºç›®å½•ã€‚å¦‚æœæ²¡æœ‰é…ç½®ç›®å½•ï¼Œåˆ™ç¼–è¯‘çš„ä¸´æ—¶æ–‡ä»¶éƒ½å°†åœ¨æºç çš„æ ¹ç›®å½•äº§ç”Ÿã€‚å¦‚æœä½¿ç”¨äº†å‚æ•°ï¼Œåç»­æ‰§è¡Œçš„å‘½ä»¤å»ºè®®éƒ½å¸¦ç€å‚æ•°ä½¿ç”¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> linux-6.8.2</span><br><span class="line">make O=./output</span><br></pre></td></tr></table></figure>
<h4 id="å†…æ ¸é…ç½®"><a href="#å†…æ ¸é…ç½®" class="headerlink" title="å†…æ ¸é…ç½®"></a>å†…æ ¸é…ç½®</h4><p>å¯ä»¥é€šè¿‡<code>make menuconfig</code>å‘½ä»¤è°ƒç”¨å›¾å½¢é…ç½®ç•Œé¢é…ç½®å†…æ ¸ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒå…¶ä»–çš„æ–¹æ³•ä¿®æ”¹é…ç½®,å¯ä»¥ä½¿ç”¨<code>make help</code>æŸ¥çœ‹æ›´å¤šçš„é€‰é¡¹ã€‚<br>å¦‚ä¸‹å›¾ï¼šæ–¹å‘é”®æ§åˆ¶é€‰é¡¹ï¼Œ<code>ENTER</code>é”®è¿›å…¥å­èœå•ï¼Œ<code>space</code>ç©ºæ ¼é”®æ›´æ”¹ç¼–è¯‘æ–¹å¼ï¼Œä¿å­˜åä¼šå°†ä¿®æ”¹åçš„é…ç½®ä¿å­˜åˆ°<code>.config</code>æ–‡ä»¶é‡Œï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[ ]: ä¸ç¼–è¯‘</span><br><span class="line">[*]: ç¼–è¯‘è¿›å†…æ ¸</span><br><span class="line">&lt; &gt;: ä¸ç¼–è¯‘</span><br><span class="line">&lt;*&gt;: ç¼–è¯‘è¿›å†…æ ¸</span><br><span class="line">&lt;M&gt;: ä»¥å¯åŠ è½½çš„å½¢å¼ç¼–è¯‘</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®å½“å‰æ“ä½œæ¶æ„ä½œä¸ºé»˜è®¤é…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make O=./output defconfig</span><br></pre></td></tr></table></figure>
<p><img src="/img/kernel/menuconfig.png" alt="menuconfig"></p>
<h4 id="å†…æ ¸ç¼–è¯‘"><a href="#å†…æ ¸ç¼–è¯‘" class="headerlink" title="å†…æ ¸ç¼–è¯‘"></a>å†…æ ¸ç¼–è¯‘</h4><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œç¼–è¯‘è¿‡ç¨‹ç”Ÿæˆçš„ä¸­é—´äº§ç‰©ï¼Œå’Œæœ€ç»ˆäº§ç‰©éƒ½ä¼šåœ¨å½“å‰ç›®å½•çš„outputç›®å½•ä¸‹äº§ç”Ÿï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make O=./output</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆç¼–è¯‘çš„kernelåœ¨<code>./output/arch/x86_64/boot/bzImage</code></p>
<h4 id="å†…æ ¸Makefileå¸¸ç”¨çš„å‘½ä»¤è¡Œå‚æ•°"><a href="#å†…æ ¸Makefileå¸¸ç”¨çš„å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="å†…æ ¸Makefileå¸¸ç”¨çš„å‘½ä»¤è¡Œå‚æ•°"></a>å†…æ ¸Makefileå¸¸ç”¨çš„å‘½ä»¤è¡Œå‚æ•°</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>ä½¿ç”¨</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ARCH</td>
<td>make ARCH&#x3D;arm</td>
<td>æŒ‡å®šç›®æ ‡æ¶æ„ï¼Œå¦‚x86ã€ARMç­‰ï¼Œè¯¥æ¶æ„ä»£ç å¿…é¡»åœ¨archæ–‡ä»¶å¤¹ä¸­å­˜åœ¨</td>
</tr>
<tr>
<td>CROSS_COMPILE</td>
<td>make CROSS_COMPILE&#x3D;arm-linux-gnueabi-</td>
<td>æŒ‡å®šç¼–è¯‘ä½¿ç”¨çš„äº¤å‰å·¥å…·é“¾å‰ç¼€</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>study</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>kernel</tag>
      </tags>
  </entry>
  <entry>
    <title>cmakeåŸºç¡€è¯­æ³•</title>
    <url>/2024/03/18/study/tools/cmake%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="CMakeLists-txt"><a href="#CMakeLists-txt" class="headerlink" title="CMakeLists.txt"></a>CMakeLists.txt</h2><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="comment">#CMAKEå®šä¹‰çš„å˜é‡åŒºåˆ†å¤§å°å†™,ä½†å‘½ä»¤ä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line"><span class="comment">#CMKAEå®šä¹‰äº†ä¸¤ä¸ªå˜é‡ï¼š PROJECT_SOURCE_DIR å’Œ PROJECT_BINARY_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®cmakeçš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯ä»¥é€šè¿‡on/offç¼–è¯‘è¿‡ç¨‹çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">SET</span>( CMAKE_VERBOSE_MAKEFILE <span class="keyword">on</span> ) </span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®äº¤å‰ç¼–è¯‘å™¨</span></span><br><span class="line"><span class="keyword">set</span>(CMAKE_C_COMPILER <span class="string">&quot;mipsel-openwrt-linux-gcc&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>(CMAKE_C_FLAGS <span class="string">&quot;-W -Wall -lpthread&quot;</span>)</span><br><span class="line"><span class="keyword">add_definitions</span>(<span class="string">&quot;-Werror&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å·¥ç¨‹å</span></span><br><span class="line"><span class="keyword">project</span>(httpsd)  <span class="comment">#å®šä¹‰äº†ä¸¤ä¸ªå˜é‡ demo_BINARY_DIR å’Œ demo_SOURCE_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#message ç›¸å½“äº echo,è¾“å‡ºåˆ°å±å¹•</span></span><br><span class="line"><span class="keyword">message</span>(<span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>) <span class="comment">#CMakeLists.txtæ‰€åœ¨çš„æ–‡ä»¶å¤¹,ç­‰ä»·äºPROJECT_SOURCE_DIR</span></span><br><span class="line"><span class="keyword">MESSAGE</span>(<span class="variable">$&#123;PROJECT_BINARY_DIR&#125;</span>) <span class="comment">#æ‰§è¡ŒCMakeLists.txtçš„ç›®å½•ï¼Œç­‰ä»·äºdemo_BINARY_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å¤´æ–‡ä»¶çš„æœç´¢è·¯å¾„.ä¸€èˆ¬æƒ…å†µä¸‹åœ¨æºæ–‡ä»¶è‡ªå·±åŒ…å«ä¾¿äºæŸ¥æ‰¾å®šä¹‰</span></span><br><span class="line"><span class="keyword">include_directories</span>(base/<span class="keyword">include</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®åº“æ–‡ä»¶è·¯å¾„,ä¸€èˆ¬æ—¶target_link_librariesé‡Œéœ€è¦æ·»åŠ çš„åº“</span></span><br><span class="line"><span class="keyword">link_directories</span>(base/lib/openssl)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="keyword">set</span>(EXECUTABLE_OUTPUT_PATH <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/output/bin)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨å­CMakeLists.txt</span></span><br><span class="line"><span class="keyword">add_subdirectory</span>(source/socket) <span class="comment">#æ·»åŠ å­CMakeLists.txtçš„ç›®å½•ï¼Œä¼šè‡ªåŠ¨åœ¨PROJECT_SOURCE_DIRç›®å½•åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ç›®å½•ï¼Œæ‰§è¡Œè¯¥å­CMakeLists.txt</span></span><br><span class="line"><span class="keyword">add_subdirectory</span>(source/tls)</span><br><span class="line"><span class="keyword">add_subdirectory</span>(source/http)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å¯æ‰§è¡Œæ–‡ä»¶çš„å…¥å£</span></span><br><span class="line"><span class="keyword">set</span>(SRC_LIST main.c)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">add_executable</span>(httpsd <span class="variable">$&#123;SRC_LIST&#125;</span>) <span class="comment">#å‘Šè¯‰ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶,ç”Ÿæˆçš„æ–‡ä»¶å’ŒprojectåŒå</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é“¾æ¥åº“æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">message</span>(<span class="string">&quot;====BEGIN LINK LIB====&quot;</span>)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(httpsd http tls crypto ssl socket) <span class="comment">#é“¾æ¥ç”¨åˆ°çš„åº“æ–‡ä»¶,åº“æ–‡ä»¶ä¸€èˆ¬ç”±libå¼€å¤´ï¼Œä¾‹å¦‚ libliblog.aæˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™éœ€è¦å°†ç¬¬ä¸€ä¸ªlibåˆ é™¤</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">install</span>(TARGETS <span class="variable">$&#123;PROJECT_NAME&#125;</span> DESTINATION /home/kaikai/nfsshare/share_03)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å­CMAKE"><a href="#å­CMAKE" class="headerlink" title="å­CMAKE"></a>å­CMAKE</h2><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">message</span>(<span class="string">&quot;=====BEGIN MAKE SOCKET LIB=====&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">aux_source_directory</span>(. LIB_SRCS)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®ç¼–è¯‘çš„åº“æ–‡ä»¶è¾“å‡ºç›®å½•</span></span><br><span class="line"><span class="keyword">set</span>(LIBRARY_OUTPUT_PATH  <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/output/lib)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_library</span>(socket <span class="variable">$&#123;LIB_SRCS&#125;</span>) <span class="comment">#å‘Šè¯‰ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªåº“æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯é™æ€åº“,ç”Ÿæˆçš„æ–‡ä»¶åä¼šåŠ libå‰ç¼€ï¼Œä¾‹å¦‚æœ¬ä¾‹ç”Ÿæˆçš„åº“ä¸º libliblog.a ,å…¶ä»–æ–‡ä»¶ä½¿ç”¨æ—¶éœ€è¦ç”¨ liblog</span></span><br><span class="line"><span class="comment"># add_library(liblog SHARED $&#123;LIB_SRC&#125;) #ç”ŸæˆåŠ¨æ€åº“</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>study</category>
        <category>tools</category>
      </categories>
      <tags>
        <tag>cmake</tag>
      </tags>
  </entry>
</search>
